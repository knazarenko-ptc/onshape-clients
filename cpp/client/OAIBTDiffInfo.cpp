/**
 * Onshape REST API
 * The Onshape REST API consumed by all clients.
 *
 * OpenAPI spec version: 1.111
 * Contact: api-support@onshape.zendesk.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


#include "OAIBTDiffInfo.h"

#include "OAIHelpers.h"

#include <QJsonDocument>
#include <QJsonArray>
#include <QObject>
#include <QDebug>

namespace OpenAPI {

OAIBTDiffInfo::OAIBTDiffInfo(QString json) {
    init();
    this->fromJson(json);
}

OAIBTDiffInfo::OAIBTDiffInfo() {
    init();
}

OAIBTDiffInfo::~OAIBTDiffInfo() {
    this->cleanup();
}

void
OAIBTDiffInfo::init() {
    collection_changes = new QMap<QString, QList<OAIBTDiffInfo*>*>();
    m_collection_changes_isSet = false;
    entity_type = new QString("");
    m_entity_type_isSet = false;
    geometry_change_messages = new QList<QString*>();
    m_geometry_change_messages_isSet = false;
    source_id = new QString("");
    m_source_id_isSet = false;
    source_value = new QString("");
    m_source_value_isSet = false;
    target_id = new QString("");
    m_target_id_isSet = false;
    target_value = new QString("");
    m_target_value_isSet = false;
    type = new QString("");
    m_type_isSet = false;
}

void
OAIBTDiffInfo::cleanup() {
    if(collection_changes != nullptr) { 
        auto arr = collection_changes;
        for(auto o: *arr) { 
            for(auto o1: *o) {
                delete o1;
            }
            delete o;
        }
        delete collection_changes;
    }
    if(entity_type != nullptr) { 
        delete entity_type;
    }
    if(geometry_change_messages != nullptr) { 
        auto arr = geometry_change_messages;
        for(auto o: *arr) { 
            delete o;
        }
        delete geometry_change_messages;
    }
    if(source_id != nullptr) { 
        delete source_id;
    }
    if(source_value != nullptr) { 
        delete source_value;
    }
    if(target_id != nullptr) { 
        delete target_id;
    }
    if(target_value != nullptr) { 
        delete target_value;
    }
    if(type != nullptr) { 
        delete type;
    }
}

OAIBTDiffInfo*
OAIBTDiffInfo::fromJson(QString json) {
    QByteArray array (json.toStdString().c_str());
    QJsonDocument doc = QJsonDocument::fromJson(array);
    QJsonObject jsonObject = doc.object();
    this->fromJsonObject(jsonObject);
    return this;
}

void
OAIBTDiffInfo::fromJsonObject(QJsonObject pJson) {
    
    
    if(pJson["collectionChanges"].isObject()){
        auto varmap = pJson["collectionChanges"].toObject().toVariantMap();
        if(varmap.count() > 0){
            for(auto val : varmap.keys()){
                auto collection_changes_item = new QList<OAIBTDiffInfo*>();
                
    		    auto jsonval = QJsonValue::fromVariant(varmap.value(val));
    		    ::OpenAPI::setValue((QMap<QString, void *>*)&collection_changes_item, jsonval, "QList", "OAIBTDiffInfo");

                collection_changes->insert(collection_changes->end(), val, collection_changes_item);
            }
        }
    }
    ::OpenAPI::setValue(&entity_type, pJson["entityType"], "QString", "QString");
    
    
    ::OpenAPI::setValue(&geometry_change_messages, pJson["geometryChangeMessages"], "QList", "QString");
    ::OpenAPI::setValue(&source_id, pJson["sourceId"], "QString", "QString");
    
    ::OpenAPI::setValue(&source_value, pJson["sourceValue"], "QString", "QString");
    
    ::OpenAPI::setValue(&target_id, pJson["targetId"], "QString", "QString");
    
    ::OpenAPI::setValue(&target_value, pJson["targetValue"], "QString", "QString");
    
    ::OpenAPI::setValue(&type, pJson["type"], "QString", "QString");
    
}

QString
OAIBTDiffInfo::asJson ()
{
    QJsonObject obj = this->asJsonObject();
    QJsonDocument doc(obj);
    QByteArray bytes = doc.toJson();
    return QString(bytes);
}

QJsonObject
OAIBTDiffInfo::asJsonObject() {
    QJsonObject obj;
    if(collection_changes->size() > 0){
        
        QJsonObject mapobj;
        for(auto itemkey : collection_changes->keys()){
            QJsonObject jobj;
            toJsonArray((QList<void*>*)collection_changes->value(itemkey), jobj, itemkey, "OAIBTDiffInfo");
            mapobj.insert(itemkey, jobj);
        }
        obj.insert("collectionChanges", mapobj);
    }
    if(entity_type != nullptr && *entity_type != QString("")){
        toJsonValue(QString("entityType"), entity_type, obj, QString("QString"));
    }
    if(geometry_change_messages->size() > 0){
        toJsonArray((QList<void*>*)geometry_change_messages, obj, "geometryChangeMessages", "QString");
    }
    if(source_id != nullptr && *source_id != QString("")){
        toJsonValue(QString("sourceId"), source_id, obj, QString("QString"));
    }
    if(source_value != nullptr && *source_value != QString("")){
        toJsonValue(QString("sourceValue"), source_value, obj, QString("QString"));
    }
    if(target_id != nullptr && *target_id != QString("")){
        toJsonValue(QString("targetId"), target_id, obj, QString("QString"));
    }
    if(target_value != nullptr && *target_value != QString("")){
        toJsonValue(QString("targetValue"), target_value, obj, QString("QString"));
    }
    if(type != nullptr && *type != QString("")){
        toJsonValue(QString("type"), type, obj, QString("QString"));
    }

    return obj;
}

QMap<QString, QList<OAIBTDiffInfo*>*>*
OAIBTDiffInfo::getCollectionChanges() {
    return collection_changes;
}
void
OAIBTDiffInfo::setCollectionChanges(QMap<QString, QList<OAIBTDiffInfo*>*>* collection_changes) {
    this->collection_changes = collection_changes;
    this->m_collection_changes_isSet = true;
}

QString*
OAIBTDiffInfo::getEntityType() {
    return entity_type;
}
void
OAIBTDiffInfo::setEntityType(QString* entity_type) {
    this->entity_type = entity_type;
    this->m_entity_type_isSet = true;
}

QList<QString*>*
OAIBTDiffInfo::getGeometryChangeMessages() {
    return geometry_change_messages;
}
void
OAIBTDiffInfo::setGeometryChangeMessages(QList<QString*>* geometry_change_messages) {
    this->geometry_change_messages = geometry_change_messages;
    this->m_geometry_change_messages_isSet = true;
}

QString*
OAIBTDiffInfo::getSourceId() {
    return source_id;
}
void
OAIBTDiffInfo::setSourceId(QString* source_id) {
    this->source_id = source_id;
    this->m_source_id_isSet = true;
}

QString*
OAIBTDiffInfo::getSourceValue() {
    return source_value;
}
void
OAIBTDiffInfo::setSourceValue(QString* source_value) {
    this->source_value = source_value;
    this->m_source_value_isSet = true;
}

QString*
OAIBTDiffInfo::getTargetId() {
    return target_id;
}
void
OAIBTDiffInfo::setTargetId(QString* target_id) {
    this->target_id = target_id;
    this->m_target_id_isSet = true;
}

QString*
OAIBTDiffInfo::getTargetValue() {
    return target_value;
}
void
OAIBTDiffInfo::setTargetValue(QString* target_value) {
    this->target_value = target_value;
    this->m_target_value_isSet = true;
}

QString*
OAIBTDiffInfo::getType() {
    return type;
}
void
OAIBTDiffInfo::setType(QString* type) {
    this->type = type;
    this->m_type_isSet = true;
}


bool
OAIBTDiffInfo::isSet(){
    bool isObjectUpdated = false;
    do{
        if(collection_changes->size() > 0){ isObjectUpdated = true; break;}
        if(entity_type != nullptr && *entity_type != QString("")){ isObjectUpdated = true; break;}
        if(geometry_change_messages->size() > 0){ isObjectUpdated = true; break;}
        if(source_id != nullptr && *source_id != QString("")){ isObjectUpdated = true; break;}
        if(source_value != nullptr && *source_value != QString("")){ isObjectUpdated = true; break;}
        if(target_id != nullptr && *target_id != QString("")){ isObjectUpdated = true; break;}
        if(target_value != nullptr && *target_value != QString("")){ isObjectUpdated = true; break;}
        if(type != nullptr && *type != QString("")){ isObjectUpdated = true; break;}
    }while(false);
    return isObjectUpdated;
}
}

